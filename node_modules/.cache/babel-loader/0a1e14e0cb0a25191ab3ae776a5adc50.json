{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nvar _require = require('../../config'),\n  BASE_URL = _require.BASE_URL;\nexport default {\n  components: {},\n  data: function data() {\n    return {\n      // type: \"password\",\n      showPassword: false,\n      username: \"admin\",\n      password: \"19072000\",\n      submitted: false\n    };\n  },\n  created: function created() {\n    // reset login status for JWT\n  },\n  computed: {\n    typePasswd: function typePasswd() {\n      if (this.showPassword) {\n        return 'text';\n      } else {\n        return 'password';\n      }\n      // return \n    }\n  },\n\n  methods: {\n    handleSubmit: function handleSubmit() {\n      this.submitted = true;\n    },\n    login: function login() {\n      var _this = this;\n      this.submitted = true;\n      if (this.email != \"\" && this.password != \"\") {\n        this.$http.post(\"\".concat(BASE_URL, \"/user/login\"), {\n          username: this.username,\n          password: this.password\n        }).then(function (res) {\n          if (res.data.success && (res.data.role == 'admin' || res.data.role == 'staff')) {\n            localStorage.setItem('token', res.data.access_token);\n            localStorage.setItem('userinfo', res.data.userinfo);\n            _this.$toasted.show(\"succesfully loged in\", {\n              theme: \"bubble\",\n              position: \"top-right\",\n              type: \"success\",\n              duration: 2000\n            });\n            _this.$router.push(\"/\");\n          } else {\n            if (res.data.success) {\n              res.data.message = 'You are not admin';\n            }\n            _this.$toasted.show(\"Oops...\" + res.data.message, {\n              theme: \"bubble\",\n              position: \"bottom-right\",\n              type: \"error\",\n              duration: 2000\n            });\n          }\n        }).catch(function (error) {\n          console.log('error', error);\n        });\n      }\n    }\n  }\n};","map":{"version":3,"mappings":";AAqFA;EAAAA;AACA;EACAC;EACAC;IACA;MACA;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;EACA;EACAC;IACAC;MACA;QACA;MACA;QACA;MACA;MACA;IACA;EACA;;EACAC;IACAC;MACA;IACA;IACAC;MAAA;MACA;MACA;QACA;UACAR;UACAC;QACA,GACAQ;UACA;YACAC;YACAA;YACA;cACAC;cACAC;cACAC;cACAC;YACA;YACA;UACA;YACA;cAAAC;YAAA;YACA;cACAJ;cACAC;cACAC;cACAC;YACA;UACA;QACA,GACAE;UACAC;QACA;MACA;IACA;EACA;AACA","names":["BASE_URL","components","data","showPassword","username","password","submitted","created","computed","typePasswd","methods","handleSubmit","login","then","localStorage","theme","position","type","duration","res","catch","console"],"sourceRoot":"src/views/authentication","sources":["login.vue"],"sourcesContent":["<template>\n  <form\n    class=\"form-horizontal auth-form\"\n    @submit.prevent=\"handleSubmit\"\n    method=\"post\"\n  >\n    <div class=\"form-group\">\n      <input\n        v-model=\"username\"\n        name=\"login[username]\"\n        type=\"text\"\n        class=\"form-control\"\n        placeholder=\"Username\"\n      />\n    </div>\n    <div class=\"form-group\">\n      <input\n        :type=\"typePasswd\"\n        v-model=\"password\"\n        name=\"login[password]\"\n        class=\"form-control\"\n        placeholder=\"Password\"\n      />\n    </div>\n    <div class=\"form-terms\">\n      <div class=\"custom-control custom-checkbox mr-sm-2\">\n        <input\n          type=\"checkbox\"\n          class=\"custom-control-input\"\n          id=\"showPasswd\"\n          v-model=\"showPassword\"\n        />\n        <label class=\"custom-control-label\" for=\"showPasswd\"\n          >Show password</label\n        >\n        <!-- <a href=\"#\" class=\"btn btn-default forgot-pass\">lost your password</a> -->\n      </div>\n    </div>\n    <div class=\"form-button\">\n      <button class=\"btn btn-primary\" type=\"submit\" @click=\"login\">\n        Login\n      </button>\n    </div>\n    <div class=\"form-footer\">\n      <span>Or Login up with social platforms</span>\n      <ul class=\"social\">\n        <li>\n          <feather\n            type=\"facebook\"\n            class=\"icon-facebook\"\n            fill=\"#F98085\"\n            stroke=\"#F98085\"\n            size=\"16px\"\n          ></feather>\n        </li>\n        <li>\n          <feather\n            type=\"twitter\"\n            stroke=\"#F98085\"\n            size=\"16px\"\n            class=\"icon-twitter\"\n          ></feather>\n        </li>\n        <li>\n          <feather\n            type=\"instagram\"\n            stroke=\"#F98085\"\n            size=\"16px\"\n            class=\"icon-instagram\"\n          ></feather>\n        </li>\n        <li>\n          <feather\n            type=\"github\"\n            stroke=\"#F98085\"\n            size=\"16px\"\n            class=\"icon-instagram\"\n          ></feather>\n        </li>\n      </ul>\n    </div>\n  </form>\n</template>\n\n<script>\nconst {BASE_URL} =  require('../../config')\nexport default {\n  components: {},\n  data() {\n    return {\n      // type: \"password\",\n      showPassword: false,\n      username: \"admin\",\n      password: \"19072000\",\n      submitted: false,\n    };\n  },\n  created() {\n    // reset login status for JWT\n  },\n  computed: {\n    typePasswd(){\n      if (this.showPassword){\n        return 'text'\n      } else {\n        return 'password'\n      }\n      // return \n    }\n  },\n  methods: {\n    handleSubmit() {\n      this.submitted = true;\n    },\n    login() {\n      this.submitted = true;\n      if (this.email != \"\" && this.password != \"\") {\n        this.$http.post(`${BASE_URL}/user/login`, {\n            username: this.username,\n            password: this.password\n        })\n        .then(res=> {\n            if(res.data.success && (res.data.role == 'admin' || res.data.role == 'staff')){\n              localStorage.setItem('token', res.data.access_token)\n              localStorage.setItem('userinfo', res.data.userinfo) \n              this.$toasted.show(\"succesfully loged in\", {\n                theme: \"bubble\",\n                position: \"top-right\",\n                type: \"success\",\n                duration: 2000\n              });    \n              this.$router.push(\"/\");  \n            } else {\n              if (res.data.success) {res.data.message = 'You are not admin'}\n              this.$toasted.show(\"Oops...\" + res.data.message, {\n                theme: \"bubble\",\n                position: \"bottom-right\",\n                type: \"error\",\n                duration: 2000\n              });\n            }\n        })\n        .catch(function (error) {\n            console.log('error', error);\n        });\n      }\n    }\n  }\n};\n</script>"]},"metadata":{},"sourceType":"module"}