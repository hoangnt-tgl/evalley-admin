{"ast":null,"code":"const {\n  BASE_URL\n} = require('../../config');\nexport default {\n  data() {\n    return {\n      categories: [],\n      checkInput: false,\n      title: '',\n      code: '',\n      discount: '',\n      startdate: '',\n      enddate: '',\n      freeshipping: false,\n      quantity: 9999,\n      status: false,\n      minspend: 0,\n      maxdiscount: '',\n      category: null,\n      type: ''\n    };\n  },\n  computed: {\n    checkForm() {\n      if (this.checkInput) {\n        return 'was-validated';\n      } else {\n        return '';\n      }\n    }\n  },\n  methods: {\n    onComplete() {\n      this.checkInput = true;\n      if (isNaN(this.discount) || isNaN(this.quantity) || isNaN(this.discount) || isNaN(this.minspend) || isNaN(this.minspend)) {\n        return;\n      }\n      if (this.code != '' && this.title != '' && this.discount != '' && this.quantity >= 0 && this.type != '') {\n        this.$http.post(`${BASE_URL}/voucher/new`, {\n          title: this.title,\n          code: this.code,\n          discount: this.discount,\n          startdate: this.startdate,\n          enddate: this.enddate,\n          freeshipping: this.freeshipping,\n          quantity: this.quantity,\n          status: this.status,\n          minspend: this.minspend,\n          maxdiscount: this.maxdiscount,\n          category: this.category,\n          type: this.type\n        }).then(res => {\n          if (res.data.success) {\n            this.$toasted.show(\"Create Coupon success\", {\n              theme: \"bubble\",\n              position: \"top-right\",\n              type: \"success\",\n              duration: 2000\n            });\n          } else {\n            this.$toasted.show(res.data.message, {\n              theme: \"bubble\",\n              position: \"top-right\",\n              type: \"error\",\n              duration: 2000\n            });\n          }\n        }).catch(function (error) {\n          console.log('error', error);\n        });\n      }\n      // var forms = document.querySelectorAll('.needs-validation')\n      // Array.prototype.slice.call(forms)\n      // .forEach(function (form) {\n      //   form.classList.add('was-validated')\n      // }, false)\n    }\n  },\n\n  created() {\n    this.$http.get(`${BASE_URL}/category/getall`, {}).then(response => {\n      this.categories = response.data;\n    }).catch(function (error) {\n      console.log('error', error);\n    });\n  }\n};","map":{"version":3,"mappings":"AAkMA;EAAAA;AAAA;AACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MACA;QACA;MACA;QACA;MACA;IACA;EACA;EACAC;IACAC;MACA;MACA;QAAA;MAAA;MACA;QACA;UACAf;UACAC;UACAC;UACAC;UACAC;UACAC;UACAC;UACAC;UACAC;UACAC;UACAC;UACAC;QACA,GACAK;UACA;YACA;cACAC;cACAC;cACAP;cACAQ;YACA;UACA;YACA;cACAF;cACAC;cACAP;cACAQ;YACA;UACA;QACA,GACAC;UACAC;QACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;EACA;;EACAC;IACA,+CACA,GACAN;MACA;IACA,GACAI;MACAC;IACA;EACA;AACA","names":["BASE_URL","data","categories","checkInput","title","code","discount","startdate","enddate","freeshipping","quantity","status","minspend","maxdiscount","category","type","computed","checkForm","methods","onComplete","then","theme","position","duration","catch","console","created"],"sourceRoot":"src/views/coupans","sources":["CreateCoupan.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"container-fluid\">\n      <div class=\"page-header\">\n        <Breadcrumbs main=\"Coupons\" title=\"Create Coupon\" />\n      </div>\n    </div>\n    <!-- Container-fluid starts-->\n    <div class=\"container-fluid\">\n      <div class=\"row\">\n        <div class=\"col\">\n          <div class=\"card tab2-card\">\n        <div class=\"card-header\">\n          <h5>Discount Coupon Details</h5>\n        </div>\n        <div class=\"card-body\">\n          <b-tabs content-class=\"mt-3 mb-0 nav nav-tabs tab-coupon\">\n            <div class=\"tab-content\">\n              <b-tab title=\"General\" active>\n                <div\n                  class=\"tab-pane fade active show\"\n                  aria-labelledby=\"general-tab\"\n                >\n                  <form class=\"needs-validation\" v-on:submit=\"checkForm\" novalidate=\"\">\n                    <h4>General</h4>\n                    <div class=\"row\">\n                      <div class=\"col-lg-12\">\n                        <div :class=\"'form-group row '+ checkForm\">\n                          <label\n                            for=\"title\"\n                            class=\"col-xl-3 col-md-4\"\n                            ><span>*</span> Coupan Title</label\n                          >\n                          <input\n                            class=\"form-control col-md-7\"\n                            id=\"title\"\n                            type=\"text\"\n                            v-model=\"title\"\n                            required=\"\"\n                          />\n                        </div>\n                        <div :class=\"'form-group row '+ checkForm\">\n                          <label\n                            for=\"code\"\n                            class=\"col-xl-3 col-md-4\"\n                            ><span>*</span>Coupan Code</label\n                          >\n                          <input\n                            class=\"form-control col-md-7\"\n                            id=\"code\"\n                            type=\"text\"\n                            data-language=\"en\"\n                            v-model=\"code\"\n                            required=\"\"\n                          />\n                          <!-- <div class=\"invalid-feedback\">\n                            Please Provide a Valid Coupon Code.\n                          </div> -->\n                        </div>\n                        <div :class=\"'form-group row '+ checkForm\">\n                          <label\n                            for=\"discount\"\n                            class=\"col-xl-3 col-md-4\"\n                            ><span>*</span>Coupan Discount</label\n                          >\n                          <input\n                            class=\"form-control col-md-7\"\n                            id=\"discount\"\n                            type=\"number\"\n                            step=\"0.01\"\n                            v-model=\"discount\"\n                            required=\"\"\n                          />\n                          <!-- <div class=\"invalid-feedback\">\n                            Please Provide a Valid Coupon Discount.\n                          </div> -->\n                        </div>\n                        <div class=\"form-group row\">\n                          <label class=\"col-xl-3 col-md-4\">Start Date</label>\n                          <input\n                            class=\"datepicker-here form-control digits col-md-7\"\n                            type=\"text\"\n                            data-language=\"en\"\n                            v-model=\"startdate\"\n                            pattern=\"^([0-2][0-9]|(3)[0-1])(\\/)(((0)[0-9])|((1)[0-2]))(\\/)\\d{4}$\"\n                            placeholder=\"dd/mm/yyyy\"\n                          />\n                        </div>\n                        <div class=\"form-group row\">\n                          <label class=\"col-xl-3 col-md-4\">End Date</label>\n                          <input\n                            class=\"datepicker-here form-control digits col-md-7\"\n                            type=\"text\"\n                            data-language=\"en\"\n                            v-model=\"enddate\"\n                            placeholder=\"dd/mm/yyyy\"\n                          />\n                        </div>\n                        <div class=\"form-group row\">\n                          <label class=\"col-xl-3 col-md-4\">Free Shipping</label>\n                          <label class=\"d-block\" for=\"checkbox-primary-1\">\n                                <input\n                                  class=\"checkbox_animated\"\n                                  id=\"checkbox-primary-1\"\n                                  type=\"checkbox\"\n                                  v-model=\"freeshipping\"\n                                />\n                                Allow Free Shipping\n                          </label>\n                        </div>\n                        <div :class=\"'form-group row '+ checkForm\">\n                          <label class=\"col-xl-3 col-md-4\">Quantity</label>\n                          <input\n                            class=\"form-control col-md-7\"\n                            type=\"number\"\n                            v-model=\"quantity\"\n                            required=\"\"\n                            min=\"0\"\n                          />\n                        </div>\n                        <div :class=\"'form-group row '+ checkForm\">\n                          <label class=\"col-xl-3 col-md-4\">Discount Type</label>\n                          <select class=\"custom-select col-md-7\" required=\"\" v-model=\"type\">\n                            <option value=\"\" disabled>--Select--</option>\n                            <option value=\"Percent\">Percent</option>\n                            <option value=\"Fixed\">Fixed</option>\n                          </select>\n                        </div>\n                        <div class=\"form-group row\">\n                          <label class=\"col-xl-3 col-md-4\">Status</label>\n                          <label class=\"d-block\" for=\"chk-ani\">\n                                <input\n                                  class=\"checkbox_animated\"\n                                  id=\"chk-ani\"\n                                  type=\"checkbox\"\n                                  v-model=\"status\"\n                                />\n                                Enable the Coupon\n                          </label>\n                        </div>\n                      </div>\n                    </div>\n                  </form>\n                </div></b-tab\n              >\n              <b-tab title=\"Restriction\">\n                <form class=\"needs-validation\" novalidate=\"\">\n                  <h4>Restriction</h4>\n                  <div class=\"form-group row\">\n                    <label class=\"col-xl-3 col-md-4\">Category</label>\n                    <select class=\"custom-select col-md-7\" required=\"\" v-model=\"category\">\n                      <option value=null>--Select--</option>\n                      <option v-for=\"category in categories\" :value=\"category.name\" :key=\"category.name\">{{category.name}}</option>\n                    </select>\n                  </div>\n                  <div class=\"form-group row\">\n                    <label for=\"validationCustom4\" class=\"col-xl-3 col-md-4\"\n                      >Minimum Spend</label\n                    >\n                    <input\n                      class=\"form-control col-md-7\"\n                      id=\"validationCustom4\"\n                      type=\"number\"\n                      v-model=\"minspend\"\n                    />\n                  </div>\n                  <div class=\"form-group row\">\n                    <label for=\"validationCustom5\" class=\"col-xl-3 col-md-4\"\n                      >Maximum Discount</label\n                    >\n                    <input\n                      class=\"form-control col-md-7\"\n                      id=\"validationCustom5\"\n                      type=\"number\"\n                      v-model=\"maxdiscount\"\n                    />\n                  </div>\n                </form>\n              </b-tab>\n            </div>\n          </b-tabs>\n          <div class=\"pull-right\">\n            <button type=\"button\" class=\"btn btn-primary\" @click=\"onComplete\">Save</button>\n          </div>\n        </div>\n      </div>\n        </div>\n      </div>\n    </div>\n    <!-- Container-fluid Ends-->\n  </div>\n</template>\n\n<script>\nconst {BASE_URL} =  require('../../config')\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tcategories: [],\n      checkInput: false,\n      title: '',\n      code: '',\n      discount: '',\n      startdate: '',\n      enddate: '',\n      freeshipping: false,\n      quantity: 9999,\n      status: false,\n      minspend: 0,\n      maxdiscount: '',\n      category: null,\n      type: '',\n\t\t};\n\t},\n  computed: {\n    checkForm(){\n      if (this.checkInput){\n        return 'was-validated'\n      } else {\n        return ''\n      }\n    }\n  },\n\tmethods: {\n\t\tonComplete() {\n      this.checkInput = true;\n      if (isNaN(this.discount) || isNaN(this.quantity) || isNaN(this.discount) || isNaN(this.minspend) || isNaN(this.minspend)){ return}\n      if (this.code != '' && this.title != '' && this.discount != '' && this.quantity >= 0 && this.type != ''){\n        this.$http.post(`${BASE_URL}/voucher/new`, {\n          title: this.title,\n          code: this.code,\n          discount: this.discount,\n          startdate: this.startdate,\n          enddate: this.enddate,\n          freeshipping: this.freeshipping,\n          quantity: this.quantity,\n          status: this.status,\n          minspend: this.minspend,\n          maxdiscount: this.maxdiscount,\n          category: this.category,\n          type: this.type,\n        })\n        .then(res=> {\n            if (res.data.success){\n              this.$toasted.show(\"Create Coupon success\", {\n                theme: \"bubble\",\n                position: \"top-right\",\n                type: \"success\",\n                duration: 2000\n              });\n            } else {\n              this.$toasted.show(res.data.message, {\n                theme: \"bubble\",\n                position: \"top-right\",\n                type: \"error\",\n                duration: 2000\n              });\n            }\n        })\n        .catch(function (error) {\n            console.log('error', error);\n        });\n      }\n      // var forms = document.querySelectorAll('.needs-validation')\n      // Array.prototype.slice.call(forms)\n      // .forEach(function (form) {\n      //   form.classList.add('was-validated')\n      // }, false)\n    }\n\t},\n\tcreated(){\n\t\tthis.$http.get(`${BASE_URL}/category/getall`, {\n\t\t})\n\t\t.then(response => {\n\t\t\tthis.categories = response.data           \n\t\t})\n\t\t.catch(function (error) {\n\t\t\tconsole.log('error', error);\n\t\t});\n\t}\n};\n</script>\n\n<style>\n\n</style>"]},"metadata":{},"sourceType":"module"}